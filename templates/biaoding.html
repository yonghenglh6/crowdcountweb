<!doctype html>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="static/css/style.css" type="text/css" media="all" />
<link rel="stylesheet" href="static/css/style_cebian.css" type="text/css" media="all" />
<script src="static/js/cebian.js" type="text/javascript"></script>
<title>density estimation</title>
</head>

<body>
<!-- Header -->
<div id="header">
	<div class="shell">
		
		<!-- Logo -->
		<!--<h1 id="logo"><a href="#"></a></h1>-->
		<!-- End Logo -->
		
		<!-- Navigation -->
		<div id="navigation">
			<ul>
			    <li><a href="index.html">首&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;页</a></li>
                <li><a href="#">帮&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;助</a></li>
			</ul>
		</div>
		<!-- End Navigation -->
		
	</div>
</div>
<!-- End Header -->


<div id="main">
	<div id="TabMain">
    <div class="tabItemContainer">
        <li><a class="tabItemCurrent">当前任务</a></li>
        <li><a>标定人数</a></li>
        <li><a>标定灭点</a></li>
    </div>
    <div class="tabBodyContainer">
        <div class="tabBodyItem tabBodyCurrent">
            <p></p>
            <p></p>
        </div>
        <div class="tabBodyItem">
            <canvas id="myCanvas" width="640" height="480" style="border:1px solid #c3c3c3;">Your browser does not support the canvas element. </canvas>
			<p>显示当前点坐标</p>
			<p id="signal_x"></p>
			<p id="signal_y"></p>
			<button type="button">上一张</button>
			<button type="button">下一张</button>
        </div>
        <div class="tabBodyItem">
            <p></p>
            <p></p>
        </div>
    </div>
</div>
</div>



<!-- Footer -->
<div id="footer">
	<div class="shell">
    	<p class="left">
			<a href="#">地址</a>
			<span>|</span>
			<a href="#">邮编</a>
            <span>|</span>
			<a href="#">电话</a>
			<span>|</span>
			<a href="#">邮箱</a>
		</p>
		<p class="right">&copy; Company Name. </p>
	</div>
</div>
<!-- End Footer -->

</body>
</html>
<script>

	var points=new Array();
	var sign=0;
	var c=document.getElementById("myCanvas");
	var cxt=c.getContext("2d");
	var img=new Image() 
	img.src="E:\网页开发\demo2\templates\static\data/1.jpg";
	img.onload=function(){
    	cxt.drawImage(img,0,0);	
	}
</script>
<script>	
//	document.getElementById("myCanvas").onclick = function(){positionObj(event,"myCanvas")};
	function positionObj(event,id){
		var thisX = document.getElementById(id).offsetLeft;
		var thisY = document.getElementById(id).offsetTop;
		x = event.clientX - thisX;
		y = event.clientY - thisY;
		document.getElementById("signal_x").innerHTML=x;
		document.getElementById("signal_y").innerHTML=y;
		
		points[sign]=new Array();
		points[sign][0]=x;
		points[sign][1]=y;
		sign+=1;
		drawpoints();
//		var imageData = cxt.getImageData(0,0,640,480);
//		var i=y*640*4+x*4;
//		imageData.data[i]=255;
//		imageData.data[i+1]=0;
//		imageData.data[i+2]=0;
//		imageData.data[i+3]=255;	
//		cxt.putImageData(imageData,0,0);
	}
</script>

<script>
	function drawpoints(){
		cxt.fillStyle="ffffff";
		cxt.fillRect(0,0,640,480);
		cxt.drawImage(img,0,0);
		for(var i=0;i<sign;i++){			
			cxt.beginPath();			
			cxt.fillStyle="#FF0000";
			cxt.arc(points[i][0],points[i][1],2,0,Math.PI*2,true);
			cxt.closePath();
			cxt.fill();
		}
	}
</script>

<script>
	window.onload = function(){
    	document.oncontextmenu = function(event){
               event.preventDefault();
        };
		document.getElementById("myCanvas").onmousedown = function(event){
			if(event.button == 2)
			{
				if(sign!=0){
					sign-=1;
				}
				drawpoints();
			}else if(event.button == 0){
				positionObj(event,"myCanvas");
			}
		}			
	}	
</script>

<script>
	function post(URL,data){
		var temp = document.createElement("form");
		temp.action = URL;
		temp.method = "post";
		temp.style.display = "none";
		alert(1);
		for(var x in data){
			var opt = document.createElement("input");
			opt.name = x;
			opt.value = data[x];
			temp.appendChild(opt);
		}
		document.body.appendChild(temp);
		temp.submSit();
		return temp;	
	}
</script>

<script type="text/javascript" src="http://www.pengyaou.com/jquery-1.4.min.js"></script>
<script type="text/javascript">
$(document).ready(function(e) {
	SidebarTabHandler.Init();
});
var SidebarTabHandler={
	Init:function(){
		$(".tabItemContainer>li").click(function(){
			$(".tabItemContainer>li>a").removeClass("tabItemCurrent");
			$(".tabBodyItem").removeClass("tabBodyCurrent");
			$(this).find("a").addClass("tabItemCurrent");
			$($(".tabBodyItem")[$(this).index()]).addClass("tabBodyCurrent");
		});
	}
}
</script>